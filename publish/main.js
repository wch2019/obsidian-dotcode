/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => DotCodeArticle
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  // api地址
  publishUrl: "https://www.dotcode.top/api",
  fileUrl: "/document/upload/",
  // 用户名
  username: "",
  // 密码
  password: "",
  // token
  sessionToken: "",
  // 用户信息
  userInfo: {
    avatar: "",
    username: "",
    articleCount: "",
    tagsCount: "",
    categoryCount: ""
  },
  checkArticle: {
    id: "",
    title: "",
    createdTime: "",
    updatedTime: "",
    isPush: 0
  },
  showArticle: false
};
var DotCodeArticle = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    (0, import_obsidian.addIcon)("dotcodeIcon", `<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100px" height="100px" viewBox="0 0 100 100" version="1.1"><g id="surface1"><path style=" stroke:none;fill-rule:nonzero;fill:rgb(87,96,106);fill-opacity:1;" d="M 47.789062 0 C 57.515625 -1.785156 68.773438 1.839844 76.992188 7.078125 C 88.449219 15.226562 96.84375 25.457031 99.683594 39.53125 C 101.28125 49.894531 100.492188 60.210938 96.460938 69.910156 C 96.011719 71.0625 96.011719 71.0625 95.550781 72.238281 C 89.710938 85.515625 78.214844 93 65.246094 98.277344 C 52.992188 102.527344 38.992188 100.542969 27.472656 95.261719 C 15.035156 88.914062 6.5 78.632812 1.769531 65.488281 C -1.867188 53.164062 -1.375 39.25 4.761719 27.8125 C 5.765625 26.171875 6.855469 24.582031 7.964844 23.007812 C 9.425781 23.300781 10.886719 23.59375 12.390625 23.894531 C 13.640625 27.941406 12.796875 30.234375 11.171875 34.070312 C 6.382812 45.527344 6.964844 56.59375 11.503906 68.140625 C 17.214844 79.683594 26.269531 86.742188 38.328125 90.984375 C 48.921875 93.785156 60.726562 92.4375 70.464844 87.5 C 80.671875 81.265625 87.765625 72.742188 91.09375 61.171875 C 93.78125 48.296875 91.902344 36.089844 84.664062 25.019531 C 77.34375 15.0625 67.566406 10.042969 55.53125 8.074219 C 54.253906 7.890625 52.976562 7.707031 51.699219 7.527344 C 48.671875 7.078125 48.671875 7.078125 46.902344 6.195312 C 46.238281 4.535156 46.238281 4.535156 46.019531 2.65625 C 46.601562 1.777344 47.1875 0.902344 47.789062 0 Z M 47.789062 0 "/><path style=" stroke:none;fill-rule:nonzero;fill:rgb(87,96,106);fill-opacity:1;" d="M 71.273438 21.910156 C 79.183594 28.445312 83.628906 36.742188 84.957031 46.902344 C 85.351562 56.804688 82.726562 65.660156 76.382812 73.339844 C 69.167969 80.855469 60.769531 84.238281 50.519531 84.921875 C 41.691406 85.03125 34.449219 81.753906 27.269531 76.824219 C 19.597656 69.15625 16.097656 61.410156 14.796875 50.8125 C 15.042969 48.671875 15.042969 48.671875 16.8125 47.058594 C 17.394531 46.714844 17.980469 46.371094 18.585938 46.019531 C 22.011719 47.675781 22.011719 47.675781 23.007812 48.671875 C 23.25 50.125 23.46875 51.582031 23.671875 53.042969 C 24.96875 60.332031 27.585938 66.890625 33.636719 71.460938 C 40.988281 76.074219 48.019531 77.085938 56.636719 76.105469 C 63.449219 74.386719 69.183594 70.054688 73.105469 64.273438 C 76.949219 57.011719 77.492188 48.953125 75.519531 40.996094 C 72.722656 33.957031 67.789062 28.472656 60.882812 25.390625 C 53.457031 22.535156 45.230469 23.09375 37.914062 26.015625 C 35.6875 26.742188 34.039062 26.4375 31.859375 25.664062 C 31.566406 24.203125 31.273438 22.742188 30.972656 21.238281 C 42.648438 11.832031 59.488281 13.75 71.273438 21.910156 Z M 71.273438 21.910156 "/><path style=" stroke:none;fill-rule:nonzero;fill:rgb(87,96,106);fill-opacity:1;" d="M 58.683594 32.355469 C 63.761719 35.296875 67.195312 39.578125 69.027344 45.132812 C 69.828125 51.382812 69.320312 56.824219 65.488281 61.945312 C 61.773438 65.898438 58.015625 68.675781 52.492188 69.292969 C 45.210938 69.324219 40.898438 67.738281 35.398438 62.832031 C 33.738281 61.0625 33.738281 61.0625 32.742188 59.292969 C 32.976562 56.632812 33.480469 55.898438 35.398438 53.980469 C 38.367188 54.269531 39.726562 55.4375 41.757812 57.523438 C 45.292969 60.675781 48.429688 61.28125 53.097656 61.0625 C 56.105469 60.675781 56.105469 60.675781 58.40625 59.292969 C 59.636719 57.144531 59.636719 57.144531 60.175781 54.867188 C 60.46875 54.28125 60.761719 53.699219 61.0625 53.097656 C 61.417969 48.488281 61.035156 45.445312 58.40625 41.59375 C 54.578125 38.984375 51.488281 38.363281 46.902344 38.9375 C 44.082031 40.425781 44.082031 40.425781 41.59375 42.476562 C 40.332031 43.464844 40.332031 43.464844 39.046875 44.46875 C 38.429688 44.980469 37.808594 45.492188 37.167969 46.019531 C 35.453125 45.355469 35.453125 45.355469 33.628906 44.246094 C 32.9375 42.601562 32.9375 42.601562 32.742188 40.707031 C 34.941406 36.515625 38.851562 33.445312 43.125 31.558594 C 48.335938 30.042969 53.699219 30.152344 58.683594 32.355469 Z M 58.683594 32.355469 "/></g></svg>`);
    const ribbonIconEl = this.addRibbonIcon("dotcodeIcon", "\u53D1\u5E03", (evt) => {
      this.getUserInfo();
      if (this.settings.showArticle) {
        new ArticleModel(this.app, this).open();
      }
    });
    ribbonIconEl.addClass("my-plugin-ribbon-class");
    this.addCommand({
      id: "\u53D1\u5E03\u5F53\u524D\u7B14\u8BB0",
      name: "\u53D1\u5E03\u5F53\u524D\u7B14\u8BB0",
      callback: () => {
        this.getUserInfo();
        if (this.settings.showArticle) {
          new ArticleModel(this.app, this).open();
        }
      }
    });
    this.addCommand({
      id: "sample-editor-command",
      name: "Sample editor command",
      editorCallback: (editor, view) => {
        console.log(editor.getSelection());
        editor.replaceSelection("Sample Editor Command");
      }
    });
    this.addCommand({
      id: "open-sample-modal-complex",
      name: "Open sample modal (complex)",
      checkCallback: (checking) => {
        const markdownView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
        if (markdownView) {
          if (!checking) {
            new SampleModal(this.app).open();
          }
          return true;
        }
      }
    });
    this.addSettingTab(new SampleSettingTab(this.app, this));
    this.registerDomEvent(document, "click", (evt) => {
      console.log("click", evt);
    });
    this.registerInterval(window.setInterval(() => console.log("setInterval"), 5 * 60 * 1e3));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  // 尝试登录
  async attemptLogin() {
    try {
      const response = await fetch(this.settings.publishUrl + "/login", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          username: this.settings.username,
          password: this.settings.password,
          rememberMe: false
        })
      });
      const result = await response.json();
      if (result.code === 200) {
        this.settings.sessionToken = result.data;
        await this.saveSettings();
        new import_obsidian.Notice(result.msg);
      } else {
        new import_obsidian.Notice(result.msg || "\u767B\u5F55\u5931\u8D25");
      }
    } catch (error) {
      console.error("Login error:", error);
      new import_obsidian.Notice("\u8BF7\u6C42\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u4FE1\u606F\u662F\u5426\u6B63\u786E");
    }
  }
  // 获取用户信息
  async getUserInfo(retry = true) {
    try {
      const response = await fetch(this.settings.publishUrl + "/system/user/article/info", {
        method: "GET",
        headers: {
          "Authorization": this.settings.sessionToken,
          "Content-Type": "application/json"
        }
      });
      const result = await response.json();
      if (result.code === 401 && retry) {
        await this.attemptLogin();
        return this.getUserInfo(false);
      }
      if (result.code === 200) {
        this.settings.userInfo = result.data;
        await this.saveSettings();
        this.settings.showArticle = true;
      } else {
        this.settings.showArticle = false;
        new import_obsidian.Notice(result.msg || "\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u5931\u8D25");
      }
    } catch (error) {
      this.settings.showArticle = false;
      console.error("UserInfo error:", error);
      new import_obsidian.Notice("\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u4FE1\u606F\u662F\u5426\u6B63\u786E");
    }
  }
  // 检查文章是否存在
  async checkArticleExistence(title, date) {
    try {
      const response = await fetch(this.settings.publishUrl + `/note/article/exist/state?title=${title}&date=${date}`, {
        method: "GET",
        headers: {
          "Authorization": this.settings.sessionToken,
          "Content-Type": "application/x-www-form-urlencoded"
        }
      });
      const result = await response.json();
      if (result.code === 200) {
        console.log("Article existence check result:", result);
        this.settings.checkArticle = result.data;
        this.settings.showArticle = true;
      } else {
        this.settings.showArticle = false;
        new import_obsidian.Notice(result.msg || "\u83B7\u53D6\u6587\u7AE0\u5B58\u5728\u72B6\u6001\u5931\u8D25");
      }
    } catch (error) {
      this.settings.showArticle = false;
      console.error("checkArticleExistence error:", error);
      new import_obsidian.Notice("\u83B7\u53D6\u6587\u7AE0\u5B58\u5728\u72B6\u6001\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u4FE1\u606F\u662F\u5426\u6B63\u786E");
    }
  }
  // 上传文件
  async uploadFile(file) {
    const fileContent = await this.app.vault.readBinary(file);
    const fileExtension = file.extension.toLowerCase();
    let mimeType = "";
    switch (fileExtension) {
      case "png":
        mimeType = "images/png";
        break;
      case "jpg":
      case "jpeg":
        mimeType = "images/jpeg";
        break;
      case "gif":
        mimeType = "images/gif";
        break;
      case "bmp":
        mimeType = "images/bmp";
        break;
      case "webp":
        mimeType = "images/webp";
        break;
      default:
        throw new Error(`\u4E0D\u652F\u6301\u7684\u56FE\u7247\u683C\u5F0F: ${fileExtension}`);
    }
    const blob = new Blob([fileContent], { type: mimeType });
    const newFile = new File([blob], file.name, { type: mimeType });
    const formData = new FormData();
    formData.append("file", newFile);
    const response = await fetch(this.settings.publishUrl + "/file/image", {
      method: "POST",
      headers: {
        "Authorization": this.settings.sessionToken
      },
      body: formData
    });
    if (!response.ok) {
      throw new Error(`\u4E0A\u4F20\u5931\u8D25: ${response.statusText}`);
    }
    const result = await response.json();
    if (result.code != "200") {
      return null;
    }
    console.log("\u8F93\u51FA\u7684\u6570\u636E", result.data);
    return result.data;
  }
  //上传文章
  async uploadArticle(article, checkArticle) {
    try {
      const response = await fetch(this.settings.publishUrl + "/note/article/local/upload", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": this.settings.sessionToken
        },
        body: JSON.stringify({
          "title": article.title,
          "categories": article.categories,
          "tags": article.tags,
          "original": article.original,
          "date": article.date,
          "updated": article.updated,
          "cover": article.cover,
          "content": article.content,
          "summary": article.summary,
          "isPush": article.isPush,
          "id": checkArticle.id
        })
      });
      const result = await response.json();
      if (result.code === 200) {
        console.log("uploadArticle:", result);
        new import_obsidian.Notice(result.msg);
      } else {
        new import_obsidian.Notice(result.msg || "\u4E0A\u4F20\u6587\u7AE0\u5931\u8D25");
      }
    } catch (error) {
      this.settings.showArticle = false;
      console.error("checkArticleExistence error:", error);
      new import_obsidian.Notice("\u4E0A\u4F20\u6587\u7AE0\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u4FE1\u606F\u662F\u5426\u6B63\u786E");
    }
  }
};
var SampleModal = class extends import_obsidian.Modal {
  constructor(app) {
    super(app);
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.setText("Woah!");
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var SampleSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h1", { text: "DotCode" });
    new import_obsidian.Setting(containerEl).setName("DotCode\u5730\u5740").setDesc("\u8F93\u5165\u5B8C\u6574\u5730\u5740\u8DEF\u5F84\uFF0C\u4F8B\u5982: https://www.dotcode.top/api").addText((text) => {
      text.setPlaceholder("\u8F93\u5165\u540E\u53F0url");
      text.setValue(this.plugin.settings.publishUrl);
      text.inputEl.addEventListener("blur", async () => {
        this.plugin.settings.publishUrl = text.getValue();
        await this.getIndex();
        await this.plugin.saveSettings();
      });
      text.inputEl.style.width = "300px";
    });
    new import_obsidian.Setting(containerEl).setName("\u7528\u6237\u540D").setDesc("\u8BF7\u8F93\u5165\u7528\u6237\u540D/\u90AE\u7BB1").addText((text) => {
      text.setPlaceholder("\u8F93\u5165\u7528\u6237\u540D/\u90AE\u7BB1");
      text.setValue(this.plugin.settings.username);
      text.onChange(async (value) => {
        this.plugin.settings.username = value;
        await this.plugin.saveSettings();
      });
      text.inputEl.style.width = "300px";
    });
    new import_obsidian.Setting(containerEl).setName("\u5BC6\u7801").setDesc("\u8F93\u5165\u60A8\u7684\u5BC6\u7801").addText((text) => {
      text.setPlaceholder("\u8F93\u5165\u5BC6\u7801");
      text.setValue(this.plugin.settings.password);
      text.inputEl.type = "password";
      text.onChange(async (value) => {
        this.plugin.settings.password = value;
        await this.plugin.saveSettings();
      });
      text.inputEl.style.width = "300px";
    });
  }
  // 获取版本
  async getIndex() {
    try {
      const response = await fetch(this.plugin.settings.publishUrl + "/index", {
        method: "GET",
        headers: {
          "Content-Type": "application/x-www-form-urlencoded"
        }
      });
      const responseText = await response.text();
      console.log("Response Text:", responseText);
      new import_obsidian.Notice("\u8BF7\u6C42\u6210\u529F");
    } catch (error) {
      console.error("Index error:", error);
      new import_obsidian.Notice("\u8BF7\u6C42\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u4FE1\u606F\u662F\u5426\u6B63\u786E");
    }
  }
};
var ArticleModel = class extends import_obsidian.Modal {
  constructor(app, plugin) {
    super(app);
    this.plugin = plugin;
    this.article = {
      title: "",
      categories: "",
      tags: [],
      original: "",
      date: "",
      updated: "",
      cover: "",
      content: "",
      summary: "",
      isPush: 0
    };
  }
  async onOpen() {
    const { contentEl } = this;
    const userInfoContainer = contentEl.createEl("div", { cls: "user-info-container" });
    const avatarImg = userInfoContainer.createEl("img", {
      attr: {
        src: this.plugin.settings.publishUrl + this.plugin.settings.fileUrl + this.plugin.settings.userInfo.avatar,
        alt: "\u7528\u6237\u5934\u50CF"
      }
    });
    const usernameEl = userInfoContainer.createEl("div", {
      text: `${this.plugin.settings.userInfo.username}`,
      cls: "user-info-name"
    });
    const articleCountEl = userInfoContainer.createEl("div", {
      text: `\u6587\u7AE0: ${this.plugin.settings.userInfo.articleCount}`,
      cls: "user-info-item"
    });
    const categoryCountEl = userInfoContainer.createEl("div", {
      text: `\u5206\u7C7B: ${this.plugin.settings.userInfo.categoryCount}`,
      cls: "user-info-item"
    });
    const tagsCountEl = userInfoContainer.createEl("div", {
      text: `\u6807\u7B7E: ${this.plugin.settings.userInfo.tagsCount}`,
      cls: "user-info-item"
    });
    const currentFile = this.app.workspace.getActiveFile();
    if (currentFile != null && currentFile.extension.endsWith("md")) {
      const file = currentFile;
      console.log("\u5F53\u524D\u6FC0\u6D3B\u7684\u6587\u4EF6", file);
      const fileName = file.name;
      const fileContent = await this.app.vault.read(file);
      const createdTime = file.stat.ctime;
      const modifiedTime = file.stat.mtime;
      const yamlContent = this.extractFrontMatter(fileContent);
      if (yamlContent) {
        try {
          this.article = (0, import_obsidian.parseYaml)(yamlContent);
        } catch (e) {
          new import_obsidian.Notice(`Failed to parse YAML: ${e.message}`);
        }
      }
      const content = fileContent.replace(/^---[\s\S]*?---\n*/, "");
      if (this.article.title == "" || this.article.title == void 0) {
        this.article.title = fileName.replace(/\.md$/, "");
      }
      this.article.content = content;
      this.article.summary = this.removeMarkdownTags(content).substring(0, 100);
      if (this.article.date == "" || this.article.date == void 0) {
        this.article.date = this.formatTimestampToDateTime(createdTime);
      }
      this.article.updated = this.formatTimestampToDateTime(modifiedTime);
      this.showEditModal(this.article);
      await this.plugin.checkArticleExistence(this.article.title, this.article.date);
    } else {
      this.close();
      new import_obsidian.Notice(`\u6CA1\u6709\u6D3B\u52A8\u7684Markdown\u7B14\u8BB0`);
    }
    const rowEl = contentEl.createDiv({ cls: "settings-row" });
    if (this.plugin.settings.checkArticle.id) {
      rowEl.createDiv({
        cls: `status-display status-normal`
      });
      rowEl.createDiv({
        text: `\u6700\u8FD1\u540C\u6B65: ${this.plugin.settings.checkArticle.updatedTime}`,
        cls: "time-display"
      });
    } else {
      rowEl.createDiv({
        cls: `status-display status-default`
      });
    }
    this.article.isPush = this.plugin.settings.checkArticle.isPush == null ? 0 : this.plugin.settings.checkArticle.isPush;
    new import_obsidian.Setting(rowEl).addDropdown(
      (dropdown) => dropdown.addOption("0", "\u8349\u7A3F").addOption("1", "\u53D1\u5E03").setValue(String(this.article.isPush)).onChange(async (value) => {
        const numberValue = Number(value);
        this.plugin.settings.checkArticle.isPush = numberValue;
        this.article.isPush = numberValue;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(rowEl).addButton((button) => {
      button.setButtonText("\u63D0\u4EA4").setCta().onClick(async () => {
        await this.uploadArticle(this.article, this.plugin.settings.checkArticle);
        this.close();
      });
    });
  }
  // 提取 YAML Front Matter
  extractFrontMatter(content) {
    const match = content.match(/^---\n([\s\S]*?)\n---/);
    return match ? match[1] : null;
  }
  // 移除 Markdown 标签
  removeMarkdownTags(content) {
    return content.replace(/!\[.*?\]\(.*?\)/g, "").replace(/\[.*?\]\(.*?\)/g, "").replace(/`{1,3}[\s\S]*?`{1,3}/g, "").replace(/```[\s\S]*?```/g, "").replace(/^\s*#.*$/gm, "").replace(/^\s*>/gm, "").replace(/[*_~`]/g, "").replace(/-{3,}/g, "").replace(/^\s*-\s*/gm, "").replace(/^\d+\.\s*/gm, "").replace(/\n{2,}/g, "\n").trim();
  }
  // 格式化时间戳为日期和时间
  formatTimestampToDateTime(timestamp) {
    const date = new Date(timestamp);
    const [day, month, year] = date.toLocaleDateString("en-GB").split("/");
    const time = date.toLocaleTimeString("en-GB", { hour12: false });
    return `${year}-${month}-${day} ${time}`;
  }
  // 显示当前文章信息
  showEditModal(data) {
    const { contentEl } = this;
    contentEl.createEl("hr", { cls: "hr" });
    const form = contentEl.createEl("form", { cls: "yaml-form" });
    const fields = [
      { label: "\u6807\u9898", key: "title", type: "text" },
      { label: "\u5206\u7C7B", key: "categories", type: "text" },
      { label: "\u6807\u7B7E", key: "tags", type: "text" },
      { label: "\u5C01\u9762", key: "cover", type: "text" },
      { label: "\u8F6C\u8F7D", key: "original", type: "text" },
      { label: "\u63CF\u8FF0", key: "summary", type: "text" },
      { label: "\u521B\u5EFA\u65F6\u95F4", key: "date", type: "text" },
      { label: "\u66F4\u65B0\u65F6\u95F4", key: "updated", type: "text" }
    ];
    fields.forEach((field) => {
      const container = form.createEl("div", { cls: "form-group" });
      container.createEl("label", { text: field.label, cls: "form-label" });
      const input = container.createEl("input", { cls: "form-input" });
      input.type = field.type;
      input.value = data[field.key] || "";
      input.dataset.key = field.key;
      input.disabled = true;
    });
  }
  // 移除路径前缀 '../'
  removePrefixFromPath(filePath) {
    return filePath.replace(/^(\.\.\/)+/, "");
  }
  // 上传文章
  async uploadArticle(article, checkArticle) {
    if (article.cover) {
      const file = this.app.vault.getFileByPath(this.removePrefixFromPath(article.cover));
      if (file != null) {
        article.cover = await this.plugin.uploadFile(file);
      }
    }
    article.content = await this.uploadImagesAndReplacePaths(article.content);
    console.log("settings", this.plugin.settings);
    console.log("article", article);
    console.log("checkArticle", checkArticle);
    await this.plugin.uploadArticle(article, checkArticle);
  }
  // 上传图片
  async uploadImagesAndReplacePaths(markdownContent) {
    const imageRegex = /!\[.*?\]\((?!http)(.*?)\)/g;
    let newMarkdownContent = markdownContent;
    const imageMatches = [...markdownContent.matchAll(imageRegex)];
    for (const match of imageMatches) {
      const imagePath = match[1];
      console.log("imagePath", imagePath);
      const tfile = this.app.vault.getAbstractFileByPath(this.removePrefixFromPath(imagePath));
      if (tfile && tfile instanceof import_obsidian.TFile) {
        try {
          const newImageUrl = await this.plugin.uploadFile(tfile);
          if (newImageUrl) {
            const oldImageMarkdown = match[0];
            const newImageMarkdown = `![${tfile.basename}](..${newImageUrl})`;
            newMarkdownContent = newMarkdownContent.replace(oldImageMarkdown, newImageMarkdown);
          }
        } catch (error) {
          console.error(`Error uploading file: ${tfile.name}`, error);
        }
      } else {
        console.error(`File not found for path: ${imagePath}`);
      }
    }
    return newMarkdownContent;
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtcclxuXHRhZGRJY29uLFxyXG5cdEFwcCxcclxuXHRFZGl0b3IsXHJcblx0TWFya2Rvd25WaWV3LFxyXG5cdE1vZGFsLFxyXG5cdE5vdGljZSxcclxuXHRwYXJzZVlhbWwsXHJcblx0UGx1Z2luLFxyXG5cdFBsdWdpblNldHRpbmdUYWIsXHJcblx0U2V0dGluZyxcclxuXHRURmlsZVxyXG59IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0ICcuL3N0eWxlcy5jc3MnO1xyXG5cclxuLy8gXHU2M0QyXHU0RUY2XHU3Njg0XHU5RUQ4XHU4QkE0XHU4QkJFXHU3RjZFXHJcbmludGVyZmFjZSBEb3RDb2RlQXJ0aWNsZVNldHRpbmdzIHtcclxuXHRwdWJsaXNoVXJsOiBzdHJpbmc7XHJcblx0ZmlsZVVybDogc3RyaW5nO1xyXG5cdHVzZXJuYW1lOiBzdHJpbmc7XHJcblx0cGFzc3dvcmQ6IHN0cmluZztcclxuXHRzZXNzaW9uVG9rZW46IHN0cmluZztcclxuXHR1c2VySW5mbzoge1xyXG5cdFx0YXZhdGFyOiBzdHJpbmc7XHJcblx0XHR1c2VybmFtZTogc3RyaW5nO1xyXG5cdFx0YXJ0aWNsZUNvdW50OiBzdHJpbmc7XHJcblx0XHR0YWdzQ291bnQ6IHN0cmluZztcclxuXHRcdGNhdGVnb3J5Q291bnQ6IHN0cmluZztcclxuXHR9O1xyXG5cdGNoZWNrQXJ0aWNsZTogYW55O1xyXG5cdHNob3dBcnRpY2xlOiBib29sZWFuO1xyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBEb3RDb2RlQXJ0aWNsZVNldHRpbmdzID0ge1xyXG5cdC8vIGFwaVx1NTczMFx1NTc0MFxyXG5cdHB1Ymxpc2hVcmw6ICdodHRwczovL3d3dy5kb3Rjb2RlLnRvcC9hcGknLFxyXG5cdGZpbGVVcmw6ICcvZG9jdW1lbnQvdXBsb2FkLycsXHJcblx0Ly8gXHU3NTI4XHU2MjM3XHU1NDBEXHJcblx0dXNlcm5hbWU6ICcnLFxyXG5cdC8vIFx1NUJDNlx1NzgwMVxyXG5cdHBhc3N3b3JkOiAnJyxcclxuXHQvLyB0b2tlblxyXG5cdHNlc3Npb25Ub2tlbjogJycsXHJcblx0Ly8gXHU3NTI4XHU2MjM3XHU0RkUxXHU2MDZGXHJcblx0dXNlckluZm86IHtcclxuXHRcdGF2YXRhcjogJycsXHJcblx0XHR1c2VybmFtZTogJycsXHJcblx0XHRhcnRpY2xlQ291bnQ6ICcnLFxyXG5cdFx0dGFnc0NvdW50OiAnJyxcclxuXHRcdGNhdGVnb3J5Q291bnQ6ICcnXHJcblx0fSxcclxuXHRjaGVja0FydGljbGU6IHtcclxuXHRcdGlkOiAnJyxcclxuXHRcdHRpdGxlOiAnJyxcclxuXHRcdGNyZWF0ZWRUaW1lOiAnJyxcclxuXHRcdHVwZGF0ZWRUaW1lOiAnJyxcclxuXHRcdGlzUHVzaDogMCxcclxuXHR9LFxyXG5cdHNob3dBcnRpY2xlOiBmYWxzZVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEb3RDb2RlQXJ0aWNsZSBleHRlbmRzIFBsdWdpbiB7XHJcblx0c2V0dGluZ3M6IERvdENvZGVBcnRpY2xlU2V0dGluZ3M7XHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdC8vIFx1NTJBMFx1OEY3RFx1OEJCRVx1N0Y2RVxyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHJcblx0XHRhZGRJY29uKFwiZG90Y29kZUljb25cIiwgYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHdpZHRoPVwiMTAwcHhcIiBoZWlnaHQ9XCIxMDBweFwiIHZpZXdCb3g9XCIwIDAgMTAwIDEwMFwiIHZlcnNpb249XCIxLjFcIj48ZyBpZD1cInN1cmZhY2UxXCI+PHBhdGggc3R5bGU9XCIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoODcsOTYsMTA2KTtmaWxsLW9wYWNpdHk6MTtcIiBkPVwiTSA0Ny43ODkwNjIgMCBDIDU3LjUxNTYyNSAtMS43ODUxNTYgNjguNzczNDM4IDEuODM5ODQ0IDc2Ljk5MjE4OCA3LjA3ODEyNSBDIDg4LjQ0OTIxOSAxNS4yMjY1NjIgOTYuODQzNzUgMjUuNDU3MDMxIDk5LjY4MzU5NCAzOS41MzEyNSBDIDEwMS4yODEyNSA0OS44OTQ1MzEgMTAwLjQ5MjE4OCA2MC4yMTA5MzggOTYuNDYwOTM4IDY5LjkxMDE1NiBDIDk2LjAxMTcxOSA3MS4wNjI1IDk2LjAxMTcxOSA3MS4wNjI1IDk1LjU1MDc4MSA3Mi4yMzgyODEgQyA4OS43MTA5MzggODUuNTE1NjI1IDc4LjIxNDg0NCA5MyA2NS4yNDYwOTQgOTguMjc3MzQ0IEMgNTIuOTkyMTg4IDEwMi41MjczNDQgMzguOTkyMTg4IDEwMC41NDI5NjkgMjcuNDcyNjU2IDk1LjI2MTcxOSBDIDE1LjAzNTE1NiA4OC45MTQwNjIgNi41IDc4LjYzMjgxMiAxLjc2OTUzMSA2NS40ODgyODEgQyAtMS44NjcxODggNTMuMTY0MDYyIC0xLjM3NSAzOS4yNSA0Ljc2MTcxOSAyNy44MTI1IEMgNS43NjU2MjUgMjYuMTcxODc1IDYuODU1NDY5IDI0LjU4MjAzMSA3Ljk2NDg0NCAyMy4wMDc4MTIgQyA5LjQyNTc4MSAyMy4zMDA3ODEgMTAuODg2NzE5IDIzLjU5Mzc1IDEyLjM5MDYyNSAyMy44OTQ1MzEgQyAxMy42NDA2MjUgMjcuOTQxNDA2IDEyLjc5Njg3NSAzMC4yMzQzNzUgMTEuMTcxODc1IDM0LjA3MDMxMiBDIDYuMzgyODEyIDQ1LjUyNzM0NCA2Ljk2NDg0NCA1Ni41OTM3NSAxMS41MDM5MDYgNjguMTQwNjI1IEMgMTcuMjE0ODQ0IDc5LjY4MzU5NCAyNi4yNjk1MzEgODYuNzQyMTg4IDM4LjMyODEyNSA5MC45ODQzNzUgQyA0OC45MjE4NzUgOTMuNzg1MTU2IDYwLjcyNjU2MiA5Mi40Mzc1IDcwLjQ2NDg0NCA4Ny41IEMgODAuNjcxODc1IDgxLjI2NTYyNSA4Ny43NjU2MjUgNzIuNzQyMTg4IDkxLjA5Mzc1IDYxLjE3MTg3NSBDIDkzLjc4MTI1IDQ4LjI5Njg3NSA5MS45MDIzNDQgMzYuMDg5ODQ0IDg0LjY2NDA2MiAyNS4wMTk1MzEgQyA3Ny4zNDM3NSAxNS4wNjI1IDY3LjU2NjQwNiAxMC4wNDI5NjkgNTUuNTMxMjUgOC4wNzQyMTkgQyA1NC4yNTM5MDYgNy44OTA2MjUgNTIuOTc2NTYyIDcuNzA3MDMxIDUxLjY5OTIxOSA3LjUyNzM0NCBDIDQ4LjY3MTg3NSA3LjA3ODEyNSA0OC42NzE4NzUgNy4wNzgxMjUgNDYuOTAyMzQ0IDYuMTk1MzEyIEMgNDYuMjM4MjgxIDQuNTM1MTU2IDQ2LjIzODI4MSA0LjUzNTE1NiA0Ni4wMTk1MzEgMi42NTYyNSBDIDQ2LjYwMTU2MiAxLjc3NzM0NCA0Ny4xODc1IDAuOTAyMzQ0IDQ3Ljc4OTA2MiAwIFogTSA0Ny43ODkwNjIgMCBcIi8+PHBhdGggc3R5bGU9XCIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoODcsOTYsMTA2KTtmaWxsLW9wYWNpdHk6MTtcIiBkPVwiTSA3MS4yNzM0MzggMjEuOTEwMTU2IEMgNzkuMTgzNTk0IDI4LjQ0NTMxMiA4My42Mjg5MDYgMzYuNzQyMTg4IDg0Ljk1NzAzMSA0Ni45MDIzNDQgQyA4NS4zNTE1NjIgNTYuODA0Njg4IDgyLjcyNjU2MiA2NS42NjAxNTYgNzYuMzgyODEyIDczLjMzOTg0NCBDIDY5LjE2Nzk2OSA4MC44NTU0NjkgNjAuNzY5NTMxIDg0LjIzODI4MSA1MC41MTk1MzEgODQuOTIxODc1IEMgNDEuNjkxNDA2IDg1LjAzMTI1IDM0LjQ0OTIxOSA4MS43NTM5MDYgMjcuMjY5NTMxIDc2LjgyNDIxOSBDIDE5LjU5NzY1NiA2OS4xNTYyNSAxNi4wOTc2NTYgNjEuNDEwMTU2IDE0Ljc5Njg3NSA1MC44MTI1IEMgMTUuMDQyOTY5IDQ4LjY3MTg3NSAxNS4wNDI5NjkgNDguNjcxODc1IDE2LjgxMjUgNDcuMDU4NTk0IEMgMTcuMzk0NTMxIDQ2LjcxNDg0NCAxNy45ODA0NjkgNDYuMzcxMDk0IDE4LjU4NTkzOCA0Ni4wMTk1MzEgQyAyMi4wMTE3MTkgNDcuNjc1NzgxIDIyLjAxMTcxOSA0Ny42NzU3ODEgMjMuMDA3ODEyIDQ4LjY3MTg3NSBDIDIzLjI1IDUwLjEyNSAyMy40Njg3NSA1MS41ODIwMzEgMjMuNjcxODc1IDUzLjA0Mjk2OSBDIDI0Ljk2ODc1IDYwLjMzMjAzMSAyNy41ODU5MzggNjYuODkwNjI1IDMzLjYzNjcxOSA3MS40NjA5MzggQyA0MC45ODgyODEgNzYuMDc0MjE5IDQ4LjAxOTUzMSA3Ny4wODU5MzggNTYuNjM2NzE5IDc2LjEwNTQ2OSBDIDYzLjQ0OTIxOSA3NC4zODY3MTkgNjkuMTgzNTk0IDcwLjA1NDY4OCA3My4xMDU0NjkgNjQuMjczNDM4IEMgNzYuOTQ5MjE5IDU3LjAxMTcxOSA3Ny40OTIxODggNDguOTUzMTI1IDc1LjUxOTUzMSA0MC45OTYwOTQgQyA3Mi43MjI2NTYgMzMuOTU3MDMxIDY3Ljc4OTA2MiAyOC40NzI2NTYgNjAuODgyODEyIDI1LjM5MDYyNSBDIDUzLjQ1NzAzMSAyMi41MzUxNTYgNDUuMjMwNDY5IDIzLjA5Mzc1IDM3LjkxNDA2MiAyNi4wMTU2MjUgQyAzNS42ODc1IDI2Ljc0MjE4OCAzNC4wMzkwNjIgMjYuNDM3NSAzMS44NTkzNzUgMjUuNjY0MDYyIEMgMzEuNTY2NDA2IDI0LjIwMzEyNSAzMS4yNzM0MzggMjIuNzQyMTg4IDMwLjk3MjY1NiAyMS4yMzgyODEgQyA0Mi42NDg0MzggMTEuODMyMDMxIDU5LjQ4ODI4MSAxMy43NSA3MS4yNzM0MzggMjEuOTEwMTU2IFogTSA3MS4yNzM0MzggMjEuOTEwMTU2IFwiLz48cGF0aCBzdHlsZT1cIiBzdHJva2U6bm9uZTtmaWxsLXJ1bGU6bm9uemVybztmaWxsOnJnYig4Nyw5NiwxMDYpO2ZpbGwtb3BhY2l0eToxO1wiIGQ9XCJNIDU4LjY4MzU5NCAzMi4zNTU0NjkgQyA2My43NjE3MTkgMzUuMjk2ODc1IDY3LjE5NTMxMiAzOS41NzgxMjUgNjkuMDI3MzQ0IDQ1LjEzMjgxMiBDIDY5LjgyODEyNSA1MS4zODI4MTIgNjkuMzIwMzEyIDU2LjgyNDIxOSA2NS40ODgyODEgNjEuOTQ1MzEyIEMgNjEuNzczNDM4IDY1Ljg5ODQzOCA1OC4wMTU2MjUgNjguNjc1NzgxIDUyLjQ5MjE4OCA2OS4yOTI5NjkgQyA0NS4yMTA5MzggNjkuMzI0MjE5IDQwLjg5ODQzOCA2Ny43MzgyODEgMzUuMzk4NDM4IDYyLjgzMjAzMSBDIDMzLjczODI4MSA2MS4wNjI1IDMzLjczODI4MSA2MS4wNjI1IDMyLjc0MjE4OCA1OS4yOTI5NjkgQyAzMi45NzY1NjIgNTYuNjMyODEyIDMzLjQ4MDQ2OSA1NS44OTg0MzggMzUuMzk4NDM4IDUzLjk4MDQ2OSBDIDM4LjM2NzE4OCA1NC4yNjk1MzEgMzkuNzI2NTYyIDU1LjQzNzUgNDEuNzU3ODEyIDU3LjUyMzQzOCBDIDQ1LjI5Mjk2OSA2MC42NzU3ODEgNDguNDI5Njg4IDYxLjI4MTI1IDUzLjA5NzY1NiA2MS4wNjI1IEMgNTYuMTA1NDY5IDYwLjY3NTc4MSA1Ni4xMDU0NjkgNjAuNjc1NzgxIDU4LjQwNjI1IDU5LjI5Mjk2OSBDIDU5LjYzNjcxOSA1Ny4xNDQ1MzEgNTkuNjM2NzE5IDU3LjE0NDUzMSA2MC4xNzU3ODEgNTQuODY3MTg4IEMgNjAuNDY4NzUgNTQuMjgxMjUgNjAuNzYxNzE5IDUzLjY5OTIxOSA2MS4wNjI1IDUzLjA5NzY1NiBDIDYxLjQxNzk2OSA0OC40ODgyODEgNjEuMDM1MTU2IDQ1LjQ0NTMxMiA1OC40MDYyNSA0MS41OTM3NSBDIDU0LjU3ODEyNSAzOC45ODQzNzUgNTEuNDg4MjgxIDM4LjM2MzI4MSA0Ni45MDIzNDQgMzguOTM3NSBDIDQ0LjA4MjAzMSA0MC40MjU3ODEgNDQuMDgyMDMxIDQwLjQyNTc4MSA0MS41OTM3NSA0Mi40NzY1NjIgQyA0MC4zMzIwMzEgNDMuNDY0ODQ0IDQwLjMzMjAzMSA0My40NjQ4NDQgMzkuMDQ2ODc1IDQ0LjQ2ODc1IEMgMzguNDI5Njg4IDQ0Ljk4MDQ2OSAzNy44MDg1OTQgNDUuNDkyMTg4IDM3LjE2Nzk2OSA0Ni4wMTk1MzEgQyAzNS40NTMxMjUgNDUuMzU1NDY5IDM1LjQ1MzEyNSA0NS4zNTU0NjkgMzMuNjI4OTA2IDQ0LjI0NjA5NCBDIDMyLjkzNzUgNDIuNjAxNTYyIDMyLjkzNzUgNDIuNjAxNTYyIDMyLjc0MjE4OCA0MC43MDcwMzEgQyAzNC45NDE0MDYgMzYuNTE1NjI1IDM4Ljg1MTU2MiAzMy40NDUzMTIgNDMuMTI1IDMxLjU1ODU5NCBDIDQ4LjMzNTkzOCAzMC4wNDI5NjkgNTMuNjk5MjE5IDMwLjE1MjM0NCA1OC42ODM1OTQgMzIuMzU1NDY5IFogTSA1OC42ODM1OTQgMzIuMzU1NDY5IFwiLz48L2c+PC9zdmc+YCk7XHJcblxyXG5cdFx0Ly8gXHU4RkQ5XHU1QzA2XHU1NzI4XHU1REU2XHU0RkE3XHU1MjlGXHU4MEZEXHU1MzNBXHU0RTJEXHU1MjFCXHU1RUZBXHU0RTAwXHU0RTJBXHU1NkZFXHU2ODA3XHUzMDAyXHJcblx0XHRjb25zdCByaWJib25JY29uRWwgPSB0aGlzLmFkZFJpYmJvbkljb24oJ2RvdGNvZGVJY29uJywgJ1x1NTNEMVx1NUUwMycsIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0Ly8gXHU2MjY3XHU4ODRDXHU2N0U1XHU4QkUyXHU1RTc2XHU4M0I3XHU1M0Q2XHU3NTI4XHU2MjM3XHU0RkUxXHU2MDZGXHJcblx0XHRcdHRoaXMuZ2V0VXNlckluZm8oKTtcclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3Muc2hvd0FydGljbGUpIHtcclxuXHRcdFx0XHRuZXcgQXJ0aWNsZU1vZGVsKHRoaXMuYXBwLCB0aGlzKS5vcGVuKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0Ly8gXHU0RjdGXHU3NTI4XHU1MjlGXHU4MEZEXHU1MzNBXHU2MjY3XHU4ODRDXHU1MTc2XHU0RUQ2XHU2NENEXHU0RjVDXHJcblx0XHRyaWJib25JY29uRWwuYWRkQ2xhc3MoJ215LXBsdWdpbi1yaWJib24tY2xhc3MnKTtcclxuXHJcblxyXG5cdFx0Ly8gXHU4RkQ5XHU0RjFBXHU1NzI4XHU1RTk0XHU3NTI4XHU1RTk1XHU5MEU4XHU2REZCXHU1MkEwXHU0RTAwXHU0RTJBXHU3MkI2XHU2MDAxXHU2ODBGXHU5ODc5XHUzMDAyXHU0RTBEXHU5MDAyXHU3NTI4XHU0RThFXHU3OUZCXHU1MkE4XHU1RTk0XHU3NTI4XHU3QTBCXHU1RThGXHUzMDAyXHJcblx0XHQvLyBjb25zdCBzdGF0dXNCYXJJdGVtRWwgPSB0aGlzLmFkZFN0YXR1c0Jhckl0ZW0oKTtcclxuXHRcdC8vIHN0YXR1c0Jhckl0ZW1FbC5zZXRUZXh0KCdTdGF0dXMgQmFyIFRleHQnKTtcclxuXHJcblx0XHQvLyBcdThGRDlcdTU4OUVcdTUyQTBcdTRFODZcdTRFMDBcdTRFMkFcdTdCODBcdTUzNTVcdTc2ODRcdTU0N0RcdTRFRTRcdUZGMENcdTUzRUZcdTRFRTVcdTU3MjhcdTRFRkJcdTRGNTVcdTU3MzBcdTY1QjlcdTg5RTZcdTUzRDFcclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnXHU1M0QxXHU1RTAzXHU1RjUzXHU1MjREXHU3QjE0XHU4QkIwJyxcclxuXHRcdFx0bmFtZTogJ1x1NTNEMVx1NUUwM1x1NUY1M1x1NTI0RFx1N0IxNFx1OEJCMCcsXHJcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0Ly8gXHU2MjY3XHU4ODRDXHU2N0U1XHU4QkUyXHU1RTc2XHU4M0I3XHU1M0Q2XHU3NTI4XHU2MjM3XHU0RkUxXHU2MDZGXHJcblx0XHRcdFx0dGhpcy5nZXRVc2VySW5mbygpO1xyXG5cdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnNob3dBcnRpY2xlKSB7XHJcblx0XHRcdFx0XHRuZXcgQXJ0aWNsZU1vZGVsKHRoaXMuYXBwLCB0aGlzKS5vcGVuKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdC8vIFx1OEZEOVx1NUMwNlx1NkRGQlx1NTJBMFx1NEUwMFx1NEUyQVx1N0YxNlx1OEY5MVx1NTY2OFx1NTQ3RFx1NEVFNFx1RkYwQ1x1OEJFNVx1NTQ3RFx1NEVFNFx1NTNFRlx1NEVFNVx1NTcyOFx1NUY1M1x1NTI0RFx1N0YxNlx1OEY5MVx1NTY2OFx1NUI5RVx1NEY4Qlx1NEUwQVx1NjI2N1x1ODg0Q1x1NjdEMFx1NEU5Qlx1NjRDRFx1NEY1Q1xyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdzYW1wbGUtZWRpdG9yLWNvbW1hbmQnLFxyXG5cdFx0XHRuYW1lOiAnU2FtcGxlIGVkaXRvciBjb21tYW5kJyxcclxuXHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3KSA9PiB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZWRpdG9yLmdldFNlbGVjdGlvbigpKTtcclxuXHRcdFx0XHRlZGl0b3IucmVwbGFjZVNlbGVjdGlvbignU2FtcGxlIEVkaXRvciBDb21tYW5kJyk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0Ly8gVGhpcyBhZGRzIGEgY29tcGxleCBjb21tYW5kIHRoYXQgY2FuIGNoZWNrIHdoZXRoZXIgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFwcCBhbGxvd3MgZXhlY3V0aW9uIG9mIHRoZSBjb21tYW5kXHJcblx0XHQvLyBcdThGRDlcdTVDMDZcdTZERkJcdTUyQTBcdTRFMDBcdTRFMkFcdTU5MERcdTY3NDJcdTc2ODRcdTU0N0RcdTRFRTRcdUZGMENcdThCRTVcdTU0N0RcdTRFRTRcdTUzRUZcdTRFRTVcdTY4QzBcdTY3RTVcdTVFOTRcdTc1MjhcdTdBMEJcdTVFOEZcdTc2ODRcdTVGNTNcdTUyNERcdTcyQjZcdTYwMDFcdTY2MkZcdTU0MjZcdTUxNDFcdThCQjhcdTYyNjdcdTg4NENcdThCRTVcdTU0N0RcdTRFRTRcclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnb3Blbi1zYW1wbGUtbW9kYWwtY29tcGxleCcsXHJcblx0XHRcdG5hbWU6ICdPcGVuIHNhbXBsZSBtb2RhbCAoY29tcGxleCknLFxyXG5cdFx0XHRjaGVja0NhbGxiYWNrOiAoY2hlY2tpbmc6IGJvb2xlYW4pID0+IHtcclxuXHRcdFx0XHQvLyBDb25kaXRpb25zIHRvIGNoZWNrXHJcblx0XHRcdFx0Y29uc3QgbWFya2Rvd25WaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcclxuXHRcdFx0XHRpZiAobWFya2Rvd25WaWV3KSB7XHJcblx0XHRcdFx0XHQvLyBJZiBjaGVja2luZyBpcyB0cnVlLCB3ZSdyZSBzaW1wbHkgXCJjaGVja2luZ1wiIGlmIHRoZSBjb21tYW5kIGNhbiBiZSBydW4uXHJcblx0XHRcdFx0XHQvLyBJZiBjaGVja2luZyBpcyBmYWxzZSwgdGhlbiB3ZSB3YW50IHRvIGFjdHVhbGx5IHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cclxuXHRcdFx0XHRcdGlmICghY2hlY2tpbmcpIHtcclxuXHRcdFx0XHRcdFx0bmV3IFNhbXBsZU1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gVGhpcyBjb21tYW5kIHdpbGwgb25seSBzaG93IHVwIGluIENvbW1hbmQgUGFsZXR0ZSB3aGVuIHRoZSBjaGVjayBmdW5jdGlvbiByZXR1cm5zIHRydWVcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cclxuXHRcdC8vIFx1OEZEOVx1NUMwNlx1NkRGQlx1NTJBMFx1NEUwMFx1NEUyQVx1OEJCRVx1N0Y2RVx1OTAwOVx1OTg3OVx1NTM2MVx1RkYwQ1x1NEVFNVx1NEZCRlx1NzUyOFx1NjIzN1x1NTNFRlx1NEVFNVx1OTE0RFx1N0Y2RVx1NjNEMlx1NEVGNlx1NzY4NFx1NTQwNFx1NEUyQVx1NjVCOVx1OTc2MlxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBTYW1wbGVTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblxyXG5cdFx0Ly8gSWYgdGhlIHBsdWdpbiBob29rcyB1cCBhbnkgZ2xvYmFsIERPTSBldmVudHMgKG9uIHBhcnRzIG9mIHRoZSBhcHAgdGhhdCBkb2Vzbid0IGJlbG9uZyB0byB0aGlzIHBsdWdpbilcclxuXHRcdC8vIFVzaW5nIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXIgd2hlbiB0aGlzIHBsdWdpbiBpcyBkaXNhYmxlZC5cclxuXHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJywgKGV2dDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRjb25zb2xlLmxvZygnY2xpY2snLCBldnQpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gV2hlbiByZWdpc3RlcmluZyBpbnRlcnZhbHMsIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGNsZWFyIHRoZSBpbnRlcnZhbCB3aGVuIHRoZSBwbHVnaW4gaXMgZGlzYWJsZWQuXHJcblx0XHR0aGlzLnJlZ2lzdGVySW50ZXJ2YWwod2luZG93LnNldEludGVydmFsKCgpID0+IGNvbnNvbGUubG9nKCdzZXRJbnRlcnZhbCcpLCA1ICogNjAgKiAxMDAwKSk7XHJcblx0fVxyXG5cclxuXHJcblx0b251bmxvYWQoKSB7XHJcblxyXG5cdH1cclxuXHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxuXHJcblxyXG5cdC8vIFx1NUMxRFx1OEJENVx1NzY3Qlx1NUY1NVxyXG5cdGFzeW5jIGF0dGVtcHRMb2dpbigpIHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5zZXR0aW5ncy5wdWJsaXNoVXJsICsgJy9sb2dpbicsIHtcclxuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0XHRoZWFkZXJzOiB7XHJcblx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG5cdFx0XHRcdFx0dXNlcm5hbWU6IHRoaXMuc2V0dGluZ3MudXNlcm5hbWUsXHJcblx0XHRcdFx0XHRwYXNzd29yZDogdGhpcy5zZXR0aW5ncy5wYXNzd29yZCxcclxuXHRcdFx0XHRcdHJlbWVtYmVyTWU6IGZhbHNlXHJcblx0XHRcdFx0fSksXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuXHRcdFx0aWYgKHJlc3VsdC5jb2RlID09PSAyMDApIHtcclxuXHRcdFx0XHQvLyBcdTc2N0JcdTVGNTVcdTYyMTBcdTUyOUZcdUZGMENcdThCQkVcdTdGNkVcdTc1MjhcdTYyMzdcdTRGRTFcdTYwNkZcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLnNlc3Npb25Ub2tlbiA9IHJlc3VsdC5kYXRhO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0bmV3IE5vdGljZShyZXN1bHQubXNnKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBcdTc2N0JcdTVGNTVcdTU5MzFcdThEMjVcdUZGMENcdTY2M0VcdTc5M0FcdTk1MTlcdThCRUZcdTZEODhcdTYwNkZcclxuXHRcdFx0XHRuZXcgTm90aWNlKHJlc3VsdC5tc2cgfHwgJ1x1NzY3Qlx1NUY1NVx1NTkzMVx1OEQyNScpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdMb2dpbiBlcnJvcjonLCBlcnJvcik7XHJcblx0XHRcdG5ldyBOb3RpY2UoJ1x1OEJGN1x1NkM0Mlx1NTkzMVx1OEQyNVx1RkYwQ1x1OEJGN1x1NjhDMFx1NjdFNVx1NEZFMVx1NjA2Rlx1NjYyRlx1NTQyNlx1NkI2M1x1Nzg2RScpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gXHU4M0I3XHU1M0Q2XHU3NTI4XHU2MjM3XHU0RkUxXHU2MDZGXHJcblx0YXN5bmMgZ2V0VXNlckluZm8ocmV0cnk6IGJvb2xlYW4gPSB0cnVlKTogUHJvbWlzZTxhbnk+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5zZXR0aW5ncy5wdWJsaXNoVXJsICsgJy9zeXN0ZW0vdXNlci9hcnRpY2xlL2luZm8nLCB7XHJcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0XHRoZWFkZXJzOiB7XHJcblx0XHRcdFx0XHQnQXV0aG9yaXphdGlvbic6IHRoaXMuc2V0dGluZ3Muc2Vzc2lvblRva2VuLFxyXG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuXHRcdFx0aWYgKHJlc3VsdC5jb2RlID09PSA0MDEgJiYgcmV0cnkpIHtcclxuXHRcdFx0XHQvLyBcdTU5ODJcdTY3OUNcdThGRDRcdTU2REU0MDFcdTRFMTRcdTUxNDFcdThCQjhcdTkxQ0RcdThCRDVcdUZGMENcdTVDMURcdThCRDVcdTkxQ0RcdTY1QjBcdTc2N0JcdTVGNTVcclxuXHRcdFx0XHRhd2FpdCB0aGlzLmF0dGVtcHRMb2dpbigpO1xyXG5cdFx0XHRcdC8vIFx1OTFDRFx1NjVCMFx1OEJGN1x1NkM0Mlx1NUY1M1x1NTI0RFx1NjNBNVx1NTNFM1xyXG5cdFx0XHRcdC8vIFx1N0IyQ1x1NEU4Q1x1NkIyMVx1NEUwRFx1NTE4RFx1OTFDRFx1OEJENVx1RkYwQ1x1OTA3Rlx1NTE0RFx1NjVFMFx1OTY1MFx1OTAxMlx1NUY1MlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmdldFVzZXJJbmZvKGZhbHNlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHJlc3VsdC5jb2RlID09PSAyMDApIHtcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLnVzZXJJbmZvID0gcmVzdWx0LmRhdGE7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLnNob3dBcnRpY2xlID0gdHJ1ZTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLnNob3dBcnRpY2xlID0gZmFsc2U7XHJcblx0XHRcdFx0bmV3IE5vdGljZShyZXN1bHQubXNnIHx8ICdcdTgzQjdcdTUzRDZcdTc1MjhcdTYyMzdcdTRGRTFcdTYwNkZcdTU5MzFcdThEMjUnKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5zZXR0aW5ncy5zaG93QXJ0aWNsZSA9IGZhbHNlO1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdVc2VySW5mbyBlcnJvcjonLCBlcnJvcik7XHJcblx0XHRcdG5ldyBOb3RpY2UoJ1x1ODNCN1x1NTNENlx1NzUyOFx1NjIzN1x1NEZFMVx1NjA2Rlx1NTkzMVx1OEQyNVx1RkYwQ1x1OEJGN1x1NjhDMFx1NjdFNVx1NEZFMVx1NjA2Rlx1NjYyRlx1NTQyNlx1NkI2M1x1Nzg2RScpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gXHU2OEMwXHU2N0U1XHU2NTg3XHU3QUUwXHU2NjJGXHU1NDI2XHU1QjU4XHU1NzI4XHJcblx0YXN5bmMgY2hlY2tBcnRpY2xlRXhpc3RlbmNlKHRpdGxlOiBzdHJpbmcsIGRhdGU6IHN0cmluZykge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnNldHRpbmdzLnB1Ymxpc2hVcmwgKyBgL25vdGUvYXJ0aWNsZS9leGlzdC9zdGF0ZT90aXRsZT0ke3RpdGxlfSZkYXRlPSR7ZGF0ZX1gLCB7XHJcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0XHRoZWFkZXJzOiB7XHJcblx0XHRcdFx0XHQnQXV0aG9yaXphdGlvbic6IHRoaXMuc2V0dGluZ3Muc2Vzc2lvblRva2VuLFxyXG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cdFx0XHRpZiAocmVzdWx0LmNvZGUgPT09IDIwMCkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdBcnRpY2xlIGV4aXN0ZW5jZSBjaGVjayByZXN1bHQ6JywgcmVzdWx0KTtcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLmNoZWNrQXJ0aWNsZSA9IHJlc3VsdC5kYXRhO1xyXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3Muc2hvd0FydGljbGUgPSB0cnVlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3Muc2hvd0FydGljbGUgPSBmYWxzZTtcclxuXHRcdFx0XHRuZXcgTm90aWNlKHJlc3VsdC5tc2cgfHwgJ1x1ODNCN1x1NTNENlx1NjU4N1x1N0FFMFx1NUI1OFx1NTcyOFx1NzJCNlx1NjAwMVx1NTkzMVx1OEQyNScpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHR0aGlzLnNldHRpbmdzLnNob3dBcnRpY2xlID0gZmFsc2U7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ2NoZWNrQXJ0aWNsZUV4aXN0ZW5jZSBlcnJvcjonLCBlcnJvcik7XHJcblx0XHRcdG5ldyBOb3RpY2UoJ1x1ODNCN1x1NTNENlx1NjU4N1x1N0FFMFx1NUI1OFx1NTcyOFx1NzJCNlx1NjAwMVx1NTkzMVx1OEQyNVx1RkYwQ1x1OEJGN1x1NjhDMFx1NjdFNVx1NEZFMVx1NjA2Rlx1NjYyRlx1NTQyNlx1NkI2M1x1Nzg2RScpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gXHU0RTBBXHU0RjIwXHU2NTg3XHU0RUY2XHJcblx0YXN5bmMgdXBsb2FkRmlsZShmaWxlOiBURmlsZSk6IFByb21pc2U8YW55PiB7XHJcblx0XHQvLyBcdThCRkJcdTUzRDZcdTU2RkVcdTcyNDdcdTY1ODdcdTRFRjZcdTUxODVcdTVCQjlcclxuXHRcdGNvbnN0IGZpbGVDb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZEJpbmFyeShmaWxlKTtcclxuXHRcdC8vIFx1ODNCN1x1NTNENlx1NjU4N1x1NEVGNlx1NzY4NFx1NjI2OVx1NUM1NVx1NTQwRFx1RkYwQ1x1NUU3Nlx1NjgzOVx1NjM2RVx1NjI2OVx1NUM1NVx1NTQwRFx1OEJCRVx1N0Y2RSBNSU1FIFx1N0M3Qlx1NTc4QlxyXG5cdFx0Y29uc3QgZmlsZUV4dGVuc2lvbiA9IGZpbGUuZXh0ZW5zaW9uLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRsZXQgbWltZVR5cGUgPSAnJztcclxuXHJcblx0XHRzd2l0Y2ggKGZpbGVFeHRlbnNpb24pIHtcclxuXHRcdFx0Y2FzZSAncG5nJzpcclxuXHRcdFx0XHRtaW1lVHlwZSA9ICdpbWFnZXMvcG5nJztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnanBnJzpcclxuXHRcdFx0Y2FzZSAnanBlZyc6XHJcblx0XHRcdFx0bWltZVR5cGUgPSAnaW1hZ2VzL2pwZWcnO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdnaWYnOlxyXG5cdFx0XHRcdG1pbWVUeXBlID0gJ2ltYWdlcy9naWYnO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdibXAnOlxyXG5cdFx0XHRcdG1pbWVUeXBlID0gJ2ltYWdlcy9ibXAnO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICd3ZWJwJzpcclxuXHRcdFx0XHRtaW1lVHlwZSA9ICdpbWFnZXMvd2VicCc7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBcdTRFMERcdTY1MkZcdTYzMDFcdTc2ODRcdTU2RkVcdTcyNDdcdTY4M0NcdTVGMEY6ICR7ZmlsZUV4dGVuc2lvbn1gKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBcdTVDMDZcdTRFOENcdThGREJcdTUyMzZcdTY1NzBcdTYzNkVcdThGNkNcdTYzNjJcdTRFM0EgQmxvYiBcdTVCRjlcdThDNjFcclxuXHRcdGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbZmlsZUNvbnRlbnRdLCB7IHR5cGU6IG1pbWVUeXBlIH0pO1xyXG5cclxuXHRcdC8vIFx1NEY3Rlx1NzUyOCBCbG9iIFx1NTIxQlx1NUVGQVx1NEUwMFx1NEUyQSBGaWxlIFx1NUJGOVx1OEM2MVxyXG5cdFx0Y29uc3QgbmV3RmlsZSA9IG5ldyBGaWxlKFtibG9iXSwgZmlsZS5uYW1lLCB7IHR5cGU6IG1pbWVUeXBlIH0pO1xyXG5cclxuXHRcdC8vIFx1NTIxQlx1NUVGQSBGb3JtRGF0YSBcdTVCRjlcdThDNjFcdTVFNzZcdTZERkJcdTUyQTBcdTY1ODdcdTRFRjZcclxuXHRcdGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcblx0XHRmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBuZXdGaWxlKTtcclxuXHJcblx0XHQvLyBcdTUyMUJcdTVFRkFIVFRQXHU4QkY3XHU2QzQyXHJcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuc2V0dGluZ3MucHVibGlzaFVybCArICcvZmlsZS9pbWFnZScsIHtcclxuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHQnQXV0aG9yaXphdGlvbic6IHRoaXMuc2V0dGluZ3Muc2Vzc2lvblRva2VuLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRib2R5OiBmb3JtRGF0YSxcclxuXHRcdH0pO1xyXG5cdFx0aWYgKCFyZXNwb25zZS5vaykge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFx1NEUwQVx1NEYyMFx1NTkzMVx1OEQyNTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cdFx0aWYgKHJlc3VsdC5jb2RlICE9IFwiMjAwXCIpIHtcclxuXHRcdFx0cmV0dXJuIG51bGxcclxuXHRcdH1cclxuXHRcdGNvbnNvbGUubG9nKFwiXHU4RjkzXHU1MUZBXHU3Njg0XHU2NTcwXHU2MzZFXCIsIHJlc3VsdC5kYXRhKVxyXG5cdFx0cmV0dXJuIHJlc3VsdC5kYXRhXHJcblx0fVxyXG5cclxuXHQvL1x1NEUwQVx1NEYyMFx1NjU4N1x1N0FFMFxyXG5cdGFzeW5jIHVwbG9hZEFydGljbGUoYXJ0aWNsZTogYW55LCBjaGVja0FydGljbGU6IGFueSkge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnNldHRpbmdzLnB1Ymxpc2hVcmwgKyAnL25vdGUvYXJ0aWNsZS9sb2NhbC91cGxvYWQnLCB7XHJcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuXHRcdFx0XHRcdCdBdXRob3JpemF0aW9uJzogdGhpcy5zZXR0aW5ncy5zZXNzaW9uVG9rZW4sXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcblx0XHRcdFx0XHRcInRpdGxlXCI6IGFydGljbGUudGl0bGUsXHJcblx0XHRcdFx0XHRcImNhdGVnb3JpZXNcIjogYXJ0aWNsZS5jYXRlZ29yaWVzLFxyXG5cdFx0XHRcdFx0XCJ0YWdzXCI6IGFydGljbGUudGFncyxcclxuXHRcdFx0XHRcdFwib3JpZ2luYWxcIjogYXJ0aWNsZS5vcmlnaW5hbCxcclxuXHRcdFx0XHRcdFwiZGF0ZVwiOiBhcnRpY2xlLmRhdGUsXHJcblx0XHRcdFx0XHRcInVwZGF0ZWRcIjogYXJ0aWNsZS51cGRhdGVkLFxyXG5cdFx0XHRcdFx0XCJjb3ZlclwiOiBhcnRpY2xlLmNvdmVyLFxyXG5cdFx0XHRcdFx0XCJjb250ZW50XCI6IGFydGljbGUuY29udGVudCxcclxuXHRcdFx0XHRcdFwic3VtbWFyeVwiOiBhcnRpY2xlLnN1bW1hcnksXHJcblx0XHRcdFx0XHRcImlzUHVzaFwiOiBhcnRpY2xlLmlzUHVzaCxcclxuXHRcdFx0XHRcdFwiaWRcIjogY2hlY2tBcnRpY2xlLmlkLFxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblx0XHRcdGlmIChyZXN1bHQuY29kZSA9PT0gMjAwKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ3VwbG9hZEFydGljbGU6JywgcmVzdWx0KVxyXG5cdFx0XHRcdG5ldyBOb3RpY2UocmVzdWx0Lm1zZyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bmV3IE5vdGljZShyZXN1bHQubXNnIHx8ICdcdTRFMEFcdTRGMjBcdTY1ODdcdTdBRTBcdTU5MzFcdThEMjUnKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dGhpcy5zZXR0aW5ncy5zaG93QXJ0aWNsZSA9IGZhbHNlO1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdjaGVja0FydGljbGVFeGlzdGVuY2UgZXJyb3I6JywgZXJyb3IpO1xyXG5cdFx0XHRuZXcgTm90aWNlKCdcdTRFMEFcdTRGMjBcdTY1ODdcdTdBRTBcdTU5MzFcdThEMjVcdUZGMENcdThCRjdcdTY4QzBcdTY3RTVcdTRGRTFcdTYwNkZcdTY2MkZcdTU0MjZcdTZCNjNcdTc4NkUnKTtcclxuXHRcdH1cclxuXHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBTYW1wbGVNb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xyXG5cdFx0c3VwZXIoYXBwKTtcclxuXHR9XHJcblxyXG5cdG9uT3BlbigpIHtcclxuXHRcdGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcclxuXHRcdGNvbnRlbnRFbC5zZXRUZXh0KCdXb2FoIScpO1xyXG5cdH1cclxuXHJcblx0b25DbG9zZSgpIHtcclxuXHRcdGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcclxuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gXHU5MTREXHU3RjZFXHU5MDA5XHU5ODc5XHJcbmNsYXNzIFNhbXBsZVNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuXHRwbHVnaW46IERvdENvZGVBcnRpY2xlO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBEb3RDb2RlQXJ0aWNsZSkge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3Qge2NvbnRhaW5lckVsfSA9IHRoaXM7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDEnLCB7dGV4dDogJ0RvdENvZGUnfSk7XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ0RvdENvZGVcdTU3MzBcdTU3NDAnKVxyXG5cdFx0XHQuc2V0RGVzYygnXHU4RjkzXHU1MTY1XHU1QjhDXHU2NTc0XHU1NzMwXHU1NzQwXHU4REVGXHU1Rjg0XHVGRjBDXHU0RjhCXHU1OTgyOiBodHRwczovL3d3dy5kb3Rjb2RlLnRvcC9hcGknKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHtcclxuXHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKCdcdThGOTNcdTUxNjVcdTU0MEVcdTUzRjB1cmwnKTtcclxuXHRcdFx0XHR0ZXh0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnB1Ymxpc2hVcmwpO1xyXG5cdFx0XHRcdC8vIFx1NUY1M1x1OEY5M1x1NTE2NVx1Njg0Nlx1NTkzMVx1NTNCQlx1NzEyNlx1NzBCOVx1NjVGNlx1ODlFNlx1NTNEMSBvbkJsdXIgXHU0RThCXHU0RUY2XHJcblx0XHRcdFx0dGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wdWJsaXNoVXJsID0gdGV4dC5nZXRWYWx1ZSgpO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5nZXRJbmRleCgpO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0dGV4dC5pbnB1dEVsLnN0eWxlLndpZHRoID0gJzMwMHB4JztcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdcdTc1MjhcdTYyMzdcdTU0MEQnKVxyXG5cdFx0XHQuc2V0RGVzYygnXHU4QkY3XHU4RjkzXHU1MTY1XHU3NTI4XHU2MjM3XHU1NDBEL1x1OTBBRVx1N0JCMScpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xyXG5cdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoJ1x1OEY5M1x1NTE2NVx1NzUyOFx1NjIzN1x1NTQwRC9cdTkwQUVcdTdCQjEnKTtcclxuXHRcdFx0XHR0ZXh0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZXJuYW1lKTtcclxuXHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlcm5hbWUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHRleHQuaW5wdXRFbC5zdHlsZS53aWR0aCA9ICczMDBweCc7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnXHU1QkM2XHU3ODAxJylcclxuXHRcdFx0LnNldERlc2MoJ1x1OEY5M1x1NTE2NVx1NjBBOFx1NzY4NFx1NUJDNlx1NzgwMScpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xyXG5cdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoJ1x1OEY5M1x1NTE2NVx1NUJDNlx1NzgwMScpO1xyXG5cdFx0XHRcdHRleHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucGFzc3dvcmQpXHJcblx0XHRcdFx0dGV4dC5pbnB1dEVsLnR5cGUgPSAncGFzc3dvcmQnO1xyXG5cdFx0XHRcdHRleHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wYXNzd29yZCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0dGV4dC5pbnB1dEVsLnN0eWxlLndpZHRoID0gJzMwMHB4JztcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gXHU4M0I3XHU1M0Q2XHU3MjQ4XHU2NzJDXHJcblx0YXN5bmMgZ2V0SW5kZXgoKSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMucGx1Z2luLnNldHRpbmdzLnB1Ymxpc2hVcmwgKyAnL2luZGV4Jywge1xyXG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXHJcblx0XHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdC8vIFx1NUMwNlx1NTRDRFx1NUU5NFx1ODlFM1x1Njc5MFx1NEUzQVx1NjU4N1x1NjcyQ1x1NUI1N1x1N0IyNlx1NEUzMlxyXG5cdFx0XHRjb25zdCByZXNwb25zZVRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdSZXNwb25zZSBUZXh0OicsIHJlc3BvbnNlVGV4dCk7XHJcblx0XHRcdG5ldyBOb3RpY2UoJ1x1OEJGN1x1NkM0Mlx1NjIxMFx1NTI5RicpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcignSW5kZXggZXJyb3I6JywgZXJyb3IpO1xyXG5cdFx0XHRuZXcgTm90aWNlKCdcdThCRjdcdTZDNDJcdTU5MzFcdThEMjVcdUZGMENcdThCRjdcdTY4QzBcdTY3RTVcdTRGRTFcdTYwNkZcdTY2MkZcdTU0MjZcdTZCNjNcdTc4NkUnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxufVxyXG5cclxuXHJcbmNsYXNzIEFydGljbGVNb2RlbCBleHRlbmRzIE1vZGFsIHtcclxuXHRwbHVnaW46IERvdENvZGVBcnRpY2xlO1xyXG5cdGFydGljbGU6IHtcclxuXHRcdC8vXHU2ODA3XHU5ODk4XHJcblx0XHR0aXRsZTogc3RyaW5nLFxyXG5cdFx0Ly9cdTUyMDZcdTdDN0JcclxuXHRcdGNhdGVnb3JpZXM6IHN0cmluZyxcclxuXHRcdC8vXHU2ODA3XHU3QjdFXHJcblx0XHR0YWdzOiBzdHJpbmdbXSxcclxuXHRcdC8vXHU2NjJGXHU1NDI2XHU4RjZDXHU4RjdEXHJcblx0XHRvcmlnaW5hbDogc3RyaW5nLFxyXG5cdFx0Ly9cdTUyMUJcdTVFRkFcdTY1RjZcdTk1RjRcclxuXHRcdGRhdGU6IHN0cmluZyxcclxuXHRcdC8vXHU2NkY0XHU2NUIwXHU2NUY2XHU5NUY0XHJcblx0XHR1cGRhdGVkOiBzdHJpbmcsXHJcblx0XHQvL1x1NUMwMVx1OTc2MlxyXG5cdFx0Y292ZXI6IHN0cmluZyxcclxuXHRcdC8vXHU1MTg1XHU1QkI5XHJcblx0XHRjb250ZW50OiBzdHJpbmcsXHJcblx0XHQvL1x1NjQ1OFx1ODk4MVxyXG5cdFx0c3VtbWFyeTogc3RyaW5nLFxyXG5cdFx0Ly9cdTY2MkZcdTU0MjZcdTUzRDFcdTVFMDNcclxuXHRcdGlzUHVzaDogbnVtYmVyLFxyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogRG90Q29kZUFydGljbGUpIHtcclxuXHRcdHN1cGVyKGFwcCk7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHRcdHRoaXMuYXJ0aWNsZSA9IHtcclxuXHRcdFx0dGl0bGU6ICcnLFxyXG5cdFx0XHRjYXRlZ29yaWVzOiAnJyxcclxuXHRcdFx0dGFnczogW10sXHJcblx0XHRcdG9yaWdpbmFsOiAnJyxcclxuXHRcdFx0ZGF0ZTogJycsXHJcblx0XHRcdHVwZGF0ZWQ6ICcnLFxyXG5cdFx0XHRjb3ZlcjogJycsXHJcblx0XHRcdGNvbnRlbnQ6ICcnLFxyXG5cdFx0XHRzdW1tYXJ5OiAnJyxcclxuXHRcdFx0aXNQdXNoOiAwLFxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIG9uT3BlbigpIHtcclxuXHJcblx0XHRjb25zdCB7Y29udGVudEVsfSA9IHRoaXM7XHJcblx0XHQvLyBcdTUyMUJcdTVFRkFcdTRFMDBcdTRFMkFcdTVCQjlcdTU2NjhcdUZGMENcdTc1MjhcdTRFOEVcdTVDMDZcdTc1MjhcdTYyMzdcdTRGRTFcdTYwNkZcdTVDNTVcdTc5M0FcdTU3MjhcdTRFMDBcdTg4NENcdTRFMkRcclxuXHRcdGNvbnN0IHVzZXJJbmZvQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZUVsKCdkaXYnLCB7Y2xzOiAndXNlci1pbmZvLWNvbnRhaW5lcid9KTtcclxuXHJcblx0XHQvLyBcdTVDNTVcdTc5M0FcdTU5MzRcdTUwQ0ZcclxuXHRcdGNvbnN0IGF2YXRhckltZyA9IHVzZXJJbmZvQ29udGFpbmVyLmNyZWF0ZUVsKCdpbWcnLCB7XHJcblx0XHRcdGF0dHI6IHtcclxuXHRcdFx0XHRzcmM6IHRoaXMucGx1Z2luLnNldHRpbmdzLnB1Ymxpc2hVcmwgKyB0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWxlVXJsICsgdGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlckluZm8uYXZhdGFyLFxyXG5cdFx0XHRcdGFsdDogJ1x1NzUyOFx1NjIzN1x1NTkzNFx1NTBDRidcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gXHU1QzU1XHU3OTNBXHU3NTI4XHU2MjM3XHU1NDBEXHJcblx0XHRjb25zdCB1c2VybmFtZUVsID0gdXNlckluZm9Db250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHtcclxuXHRcdFx0dGV4dDogYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlckluZm8udXNlcm5hbWV9YCxcclxuXHRcdFx0Y2xzOiAndXNlci1pbmZvLW5hbWUnXHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBcdTVDNTVcdTc5M0FcdTY1ODdcdTdBRTBcdTY1NzBcclxuXHRcdGNvbnN0IGFydGljbGVDb3VudEVsID0gdXNlckluZm9Db250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHtcclxuXHRcdFx0dGV4dDogYFx1NjU4N1x1N0FFMDogJHt0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VySW5mby5hcnRpY2xlQ291bnR9YCxcclxuXHRcdFx0Y2xzOiAndXNlci1pbmZvLWl0ZW0nXHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBcdTVDNTVcdTc5M0FcdTUyMDZcdTdDN0JcdTY1NzBcclxuXHRcdGNvbnN0IGNhdGVnb3J5Q291bnRFbCA9IHVzZXJJbmZvQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7XHJcblx0XHRcdHRleHQ6IGBcdTUyMDZcdTdDN0I6ICR7dGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlckluZm8uY2F0ZWdvcnlDb3VudH1gLFxyXG5cdFx0XHRjbHM6ICd1c2VyLWluZm8taXRlbSdcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFx1NUM1NVx1NzkzQVx1NjgwN1x1N0I3RVx1NjU3MFxyXG5cdFx0Y29uc3QgdGFnc0NvdW50RWwgPSB1c2VySW5mb0NvbnRhaW5lci5jcmVhdGVFbCgnZGl2Jywge1xyXG5cdFx0XHR0ZXh0OiBgXHU2ODA3XHU3QjdFOiAke3RoaXMucGx1Z2luLnNldHRpbmdzLnVzZXJJbmZvLnRhZ3NDb3VudH1gLFxyXG5cdFx0XHRjbHM6ICd1c2VyLWluZm8taXRlbSdcclxuXHRcdH0pO1xyXG5cdFx0Ly8gXHU4M0I3XHU1M0Q2XHU1RjUzXHU1MjREXHU2NTg3XHU0RUY2XHU3Njg0XHU1QkY5XHU4QzYxXHJcblx0XHRjb25zdCBjdXJyZW50RmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKClcclxuXHRcdGlmIChjdXJyZW50RmlsZSAhPSBudWxsICYmIGN1cnJlbnRGaWxlLmV4dGVuc2lvbi5lbmRzV2l0aCgnbWQnKSkge1xyXG5cdFx0XHRjb25zdCBmaWxlID0gY3VycmVudEZpbGU7XHJcblx0XHRcdC8vIFx1ODNCN1x1NTNENlx1NjU4N1x1Njg2M1x1NTE4NVx1NUJCOVx1NTQ4Q1x1NTE0M1x1NjU3MFx1NjM2RVxyXG5cdFx0XHRjb25zb2xlLmxvZygnXHU1RjUzXHU1MjREXHU2RkMwXHU2RDNCXHU3Njg0XHU2NTg3XHU0RUY2JywgZmlsZSlcclxuXHRcdFx0Ly8gXHU2NTg3XHU0RUY2XHU1NDBEXHJcblx0XHRcdGNvbnN0IGZpbGVOYW1lID0gZmlsZS5uYW1lO1xyXG5cdFx0XHQvLyBcdTY1ODdcdTRFRjZcdTUxODVcdTVCQjlcclxuXHRcdFx0Y29uc3QgZmlsZUNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xyXG5cdFx0XHQvLyBcdTUyMUJcdTVFRkFcdTY1RjZcdTk1RjRcclxuXHRcdFx0Y29uc3QgY3JlYXRlZFRpbWUgPSBmaWxlLnN0YXQuY3RpbWU7XHJcblx0XHRcdC8vIFx1NEZFRVx1NjUzOVx1NjVGNlx1OTVGNFxyXG5cdFx0XHRjb25zdCBtb2RpZmllZFRpbWUgPSBmaWxlLnN0YXQubXRpbWU7XHJcblx0XHRcdC8vIFx1ODlFM1x1Njc5MCBGcm9udCBNYXR0ZXIgXHU5MEU4XHU1MjA2XHU3Njg0IFlBTUxcclxuXHRcdFx0Y29uc3QgeWFtbENvbnRlbnQgPSB0aGlzLmV4dHJhY3RGcm9udE1hdHRlcihmaWxlQ29udGVudCk7XHJcblx0XHRcdGlmICh5YW1sQ29udGVudCkge1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHR0aGlzLmFydGljbGUgPSBwYXJzZVlhbWwoeWFtbENvbnRlbnQpXHJcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIHBhcnNlIFlBTUw6ICR7ZS5tZXNzYWdlfWApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRjb25zdCBjb250ZW50ID0gZmlsZUNvbnRlbnQucmVwbGFjZSgvXi0tLVtcXHNcXFNdKj8tLS1cXG4qLywgJycpO1xyXG5cdFx0XHRpZiAodGhpcy5hcnRpY2xlLnRpdGxlID09ICcnIHx8IHRoaXMuYXJ0aWNsZS50aXRsZSA9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHR0aGlzLmFydGljbGUudGl0bGUgPSBmaWxlTmFtZS5yZXBsYWNlKC9cXC5tZCQvLCAnJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5hcnRpY2xlLmNvbnRlbnQgPSBjb250ZW50O1xyXG5cdFx0XHR0aGlzLmFydGljbGUuc3VtbWFyeSA9IHRoaXMucmVtb3ZlTWFya2Rvd25UYWdzKGNvbnRlbnQpLnN1YnN0cmluZygwLCAxMDApO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMuYXJ0aWNsZS5kYXRlID09ICcnIHx8IHRoaXMuYXJ0aWNsZS5kYXRlID09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdHRoaXMuYXJ0aWNsZS5kYXRlID0gdGhpcy5mb3JtYXRUaW1lc3RhbXBUb0RhdGVUaW1lKGNyZWF0ZWRUaW1lKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLmFydGljbGUudXBkYXRlZCA9IHRoaXMuZm9ybWF0VGltZXN0YW1wVG9EYXRlVGltZShtb2RpZmllZFRpbWUpO1xyXG5cdFx0XHR0aGlzLnNob3dFZGl0TW9kYWwodGhpcy5hcnRpY2xlKTtcclxuXHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uY2hlY2tBcnRpY2xlRXhpc3RlbmNlKHRoaXMuYXJ0aWNsZS50aXRsZSwgdGhpcy5hcnRpY2xlLmRhdGUpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmNsb3NlKCk7XHJcblx0XHRcdG5ldyBOb3RpY2UoYFx1NkNBMVx1NjcwOVx1NkQzQlx1NTJBOFx1NzY4NE1hcmtkb3duXHU3QjE0XHU4QkIwYCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgcm93RWwgPSBjb250ZW50RWwuY3JlYXRlRGl2KHtjbHM6ICdzZXR0aW5ncy1yb3cnfSk7XHJcblxyXG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmNoZWNrQXJ0aWNsZS5pZCkge1xyXG5cdFx0XHRyb3dFbC5jcmVhdGVEaXYoe1xyXG5cdFx0XHRcdGNsczogYHN0YXR1cy1kaXNwbGF5IHN0YXR1cy1ub3JtYWxgXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0cm93RWwuY3JlYXRlRGl2KHtcclxuXHRcdFx0XHR0ZXh0OiBgXHU2NzAwXHU4RkQxXHU1NDBDXHU2QjY1OiAke3RoaXMucGx1Z2luLnNldHRpbmdzLmNoZWNrQXJ0aWNsZS51cGRhdGVkVGltZX1gLFxyXG5cdFx0XHRcdGNsczogJ3RpbWUtZGlzcGxheSdcclxuXHRcdFx0fSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyb3dFbC5jcmVhdGVEaXYoe1xyXG5cdFx0XHRcdGNsczogYHN0YXR1cy1kaXNwbGF5IHN0YXR1cy1kZWZhdWx0YFxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdHRoaXMuYXJ0aWNsZS5pc1B1c2ggPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jaGVja0FydGljbGUuaXNQdXNoID09IG51bGwgPyAwIDogdGhpcy5wbHVnaW4uc2V0dGluZ3MuY2hlY2tBcnRpY2xlLmlzUHVzaDtcclxuXHRcdG5ldyBTZXR0aW5nKHJvd0VsKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cclxuXHRcdFx0XHQuYWRkT3B0aW9uKCcwJywgJ1x1ODM0OVx1N0EzRicpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignMScsICdcdTUzRDFcdTVFMDMnKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZShTdHJpbmcodGhpcy5hcnRpY2xlLmlzUHVzaCkpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgbnVtYmVyVmFsdWUgPSBOdW1iZXIodmFsdWUpO1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY2hlY2tBcnRpY2xlLmlzUHVzaCA9IG51bWJlclZhbHVlO1xyXG5cdFx0XHRcdFx0dGhpcy5hcnRpY2xlLmlzUHVzaCA9IG51bWJlclZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhyb3dFbClcclxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4ge1xyXG5cdFx0XHRcdGJ1dHRvbi5zZXRCdXR0b25UZXh0KCdcdTYzRDBcdTRFQTQnKVxyXG5cdFx0XHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMudXBsb2FkQXJ0aWNsZSh0aGlzLmFydGljbGUsIHRoaXMucGx1Z2luLnNldHRpbmdzLmNoZWNrQXJ0aWNsZSlcclxuXHRcdFx0XHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHJcblx0fVxyXG5cclxuXHQvLyBcdTYzRDBcdTUzRDYgWUFNTCBGcm9udCBNYXR0ZXJcclxuXHRleHRyYWN0RnJvbnRNYXR0ZXIoY29udGVudDogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XHJcblx0XHRjb25zdCBtYXRjaCA9IGNvbnRlbnQubWF0Y2goL14tLS1cXG4oW1xcc1xcU10qPylcXG4tLS0vKTtcclxuXHRcdHJldHVybiBtYXRjaCA/IG1hdGNoWzFdIDogbnVsbDtcclxuXHR9XHJcblxyXG5cdC8vIFx1NzlGQlx1OTY2NCBNYXJrZG93biBcdTY4MDdcdTdCN0VcclxuXHRyZW1vdmVNYXJrZG93blRhZ3MoY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdC8vIFx1NEY3Rlx1NzUyOFx1NkI2M1x1NTIxOVx1ODg2OFx1OEZCRVx1NUYwRlx1NTMzOVx1OTE0RFx1NUU3Nlx1NTIyMFx1OTY2NFx1NjI0MFx1NjcwOSBNYXJrZG93biBcdTY4MDdcdTdCN0VcclxuXHRcdHJldHVybiBjb250ZW50LnJlcGxhY2UoLyFcXFsuKj9cXF1cXCguKj9cXCkvZywgJycpICAvLyBcdTc5RkJcdTk2NjRcdTU2RkVcdTcyNDcgIVthbHRdKHVybClcclxuXHRcdFx0LnJlcGxhY2UoL1xcWy4qP1xcXVxcKC4qP1xcKS9nLCAnJykgICAvLyBcdTc5RkJcdTk2NjRcdTk0RkVcdTYzQTUgW3RleHRdKHVybClcclxuXHRcdFx0LnJlcGxhY2UoL2B7MSwzfVtcXHNcXFNdKj9gezEsM30vZywgJycpICAvLyBcdTc5RkJcdTk2NjRcdTg4NENcdTUxODVcdTRFRTNcdTc4MDFcdTU3NTdcclxuXHRcdFx0LnJlcGxhY2UoL2BgYFtcXHNcXFNdKj9gYGAvZywgJycpICAgLy8gXHU3OUZCXHU5NjY0XHU0RUUzXHU3ODAxXHU1NzU3XHJcblx0XHRcdC5yZXBsYWNlKC9eXFxzKiMuKiQvZ20sICcnKSAgICAgICAgLy8gXHU3OUZCXHU5NjY0XHU2ODA3XHU5ODk4XHJcblx0XHRcdC5yZXBsYWNlKC9eXFxzKj4vZ20sICcnKSAgICAgICAgICAgLy8gXHU3OUZCXHU5NjY0XHU1RjE1XHU3NTI4XHJcblx0XHRcdC5yZXBsYWNlKC9bKl9+YF0vZywgJycpICAgICAgICAgICAvLyBcdTc5RkJcdTk2NjRcdTVGM0FcdThDMDNcdTU0OENcdTRGRUVcdTk5NzBcdTdCMjZcdTUzRjdcclxuXHRcdFx0LnJlcGxhY2UoLy17Myx9L2csICcnKSAgICAgICAgICAgIC8vIFx1NzlGQlx1OTY2NFx1NTIwNlx1NTI3Mlx1N0VCRlxyXG5cdFx0XHQucmVwbGFjZSgvXlxccyotXFxzKi9nbSwgJycpICAgICAgICAvLyBcdTc5RkJcdTk2NjRcdTY1RTBcdTVFOEZcdTUyMTdcdTg4NjhcdTdCMjZcdTUzRjdcclxuXHRcdFx0LnJlcGxhY2UoL15cXGQrXFwuXFxzKi9nbSwgJycpICAgICAgIC8vIFx1NzlGQlx1OTY2NFx1NjcwOVx1NUU4Rlx1NTIxN1x1ODg2OFx1N0IyNlx1NTNGN1xyXG5cdFx0XHQucmVwbGFjZSgvXFxuezIsfS9nLCAnXFxuJykgICAgICAgICAvLyBcdTc5RkJcdTk2NjRcdTU5MUFcdTRGNTlcdTc2ODRcdTdBN0FcdTg4NENcclxuXHRcdFx0LnRyaW0oKTtcclxuXHR9XHJcblxyXG5cdC8vIFx1NjgzQ1x1NUYwRlx1NTMxNlx1NjVGNlx1OTVGNFx1NjIzM1x1NEUzQVx1NjVFNVx1NjcxRlx1NTQ4Q1x1NjVGNlx1OTVGNFxyXG5cdGZvcm1hdFRpbWVzdGFtcFRvRGF0ZVRpbWUodGltZXN0YW1wOiBudW1iZXIpIHtcclxuXHRcdGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXApO1xyXG5cdFx0Y29uc3QgW2RheSwgbW9udGgsIHllYXJdID0gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLUdCJykuc3BsaXQoJy8nKTtcclxuXHRcdGNvbnN0IHRpbWUgPSBkYXRlLnRvTG9jYWxlVGltZVN0cmluZygnZW4tR0InLCB7aG91cjEyOiBmYWxzZX0pO1xyXG5cdFx0cmV0dXJuIGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fSAke3RpbWV9YDtcclxuXHR9XHJcblxyXG5cdC8vIFx1NjYzRVx1NzkzQVx1NUY1M1x1NTI0RFx1NjU4N1x1N0FFMFx1NEZFMVx1NjA2RlxyXG5cdHNob3dFZGl0TW9kYWwoZGF0YTogYW55KSB7XHJcblx0XHRjb25zdCB7Y29udGVudEVsfSA9IHRoaXM7XHJcblx0XHRjb250ZW50RWwuY3JlYXRlRWwoJ2hyJywge2NsczogJ2hyJ30pO1xyXG5cdFx0Ly8gQ3JlYXRlIGZvcm1cclxuXHRcdGNvbnN0IGZvcm0gPSBjb250ZW50RWwuY3JlYXRlRWwoJ2Zvcm0nLCB7Y2xzOiAneWFtbC1mb3JtJ30pO1xyXG5cclxuXHRcdGNvbnN0IGZpZWxkcyA9IFtcclxuXHRcdFx0e2xhYmVsOiAnXHU2ODA3XHU5ODk4Jywga2V5OiAndGl0bGUnLCB0eXBlOiAndGV4dCd9LFxyXG5cdFx0XHR7bGFiZWw6ICdcdTUyMDZcdTdDN0InLCBrZXk6ICdjYXRlZ29yaWVzJywgdHlwZTogJ3RleHQnfSxcclxuXHRcdFx0e2xhYmVsOiAnXHU2ODA3XHU3QjdFJywga2V5OiAndGFncycsIHR5cGU6ICd0ZXh0Jyx9LFxyXG5cdFx0XHR7bGFiZWw6ICdcdTVDMDFcdTk3NjInLCBrZXk6ICdjb3ZlcicsIHR5cGU6ICd0ZXh0J30sXHJcblx0XHRcdHtsYWJlbDogJ1x1OEY2Q1x1OEY3RCcsIGtleTogJ29yaWdpbmFsJywgdHlwZTogJ3RleHQnfSxcclxuXHRcdFx0e2xhYmVsOiAnXHU2M0NGXHU4RkYwJywga2V5OiAnc3VtbWFyeScsIHR5cGU6ICd0ZXh0J30sXHJcblx0XHRcdHtsYWJlbDogJ1x1NTIxQlx1NUVGQVx1NjVGNlx1OTVGNCcsIGtleTogJ2RhdGUnLCB0eXBlOiAndGV4dCd9LFxyXG5cdFx0XHR7bGFiZWw6ICdcdTY2RjRcdTY1QjBcdTY1RjZcdTk1RjQnLCBrZXk6ICd1cGRhdGVkJywgdHlwZTogJ3RleHQnfVxyXG5cdFx0XTtcclxuXHRcdGZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcclxuXHRcdFx0Y29uc3QgY29udGFpbmVyID0gZm9ybS5jcmVhdGVFbCgnZGl2Jywge2NsczogJ2Zvcm0tZ3JvdXAnfSk7XHJcblx0XHRcdGNvbnRhaW5lci5jcmVhdGVFbCgnbGFiZWwnLCB7dGV4dDogZmllbGQubGFiZWwsIGNsczogJ2Zvcm0tbGFiZWwnfSk7XHJcblx0XHRcdGNvbnN0IGlucHV0ID0gY29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHtjbHM6ICdmb3JtLWlucHV0J30pO1xyXG5cdFx0XHRpbnB1dC50eXBlID0gZmllbGQudHlwZTtcclxuXHRcdFx0aW5wdXQudmFsdWUgPSBkYXRhW2ZpZWxkLmtleV0gfHwgJyc7XHJcblx0XHRcdGlucHV0LmRhdGFzZXQua2V5ID0gZmllbGQua2V5O1xyXG5cdFx0XHRpbnB1dC5kaXNhYmxlZCA9IHRydWU7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8vIFx1NzlGQlx1OTY2NFx1OERFRlx1NUY4NFx1NTI0RFx1N0YwMCAnLi4vJ1xyXG5cdHJlbW92ZVByZWZpeEZyb21QYXRoKGZpbGVQYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0Ly8gXHU1M0JCXHU2Mzg5XHU4REVGXHU1Rjg0XHU1MjREXHU3RjAwICcuLi8nXHJcblx0XHRyZXR1cm4gZmlsZVBhdGgucmVwbGFjZSgvXihcXC5cXC5cXC8pKy8sICcnKTtcclxuXHR9XHJcblxyXG5cdC8vIFx1NEUwQVx1NEYyMFx1NjU4N1x1N0FFMFxyXG5cdGFzeW5jIHVwbG9hZEFydGljbGUoYXJ0aWNsZTogYW55LCBjaGVja0FydGljbGU6IGFueSkge1xyXG5cdFx0Ly9cdTUxNDhcdTVDMDZcdTU2RkVcdTcyNDdcdTRFMEFcdTRGMjBcclxuXHRcdC8vIFx1NUMwMVx1OTc2MlxyXG5cdFx0aWYgKGFydGljbGUuY292ZXIpIHtcclxuXHRcdFx0Y29uc3QgZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEZpbGVCeVBhdGgodGhpcy5yZW1vdmVQcmVmaXhGcm9tUGF0aChhcnRpY2xlLmNvdmVyKSk7XHJcblx0XHRcdGlmIChmaWxlICE9IG51bGwpIHtcclxuXHRcdFx0XHRhcnRpY2xlLmNvdmVyID0gYXdhaXQgdGhpcy5wbHVnaW4udXBsb2FkRmlsZShmaWxlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Ly8gXHU1MTg1XHU1QkI5XHJcblx0XHRhcnRpY2xlLmNvbnRlbnQgPSBhd2FpdCB0aGlzLnVwbG9hZEltYWdlc0FuZFJlcGxhY2VQYXRocyhhcnRpY2xlLmNvbnRlbnQpO1xyXG5cdFx0Y29uc29sZS5sb2coXCJzZXR0aW5nc1wiLCB0aGlzLnBsdWdpbi5zZXR0aW5ncylcclxuXHRcdGNvbnNvbGUubG9nKFwiYXJ0aWNsZVwiLCBhcnRpY2xlKTtcclxuXHRcdGNvbnNvbGUubG9nKFwiY2hlY2tBcnRpY2xlXCIsIGNoZWNrQXJ0aWNsZSk7XHJcblx0XHQvLyBcdThDMDNcdTc1MjhcdTRFMEFcdTRGMjBcdTY1ODdcdTdBRTBcdTYzQTVcdTUzRTNcclxuXHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwbG9hZEFydGljbGUoYXJ0aWNsZSwgY2hlY2tBcnRpY2xlKTtcclxuXHR9XHJcblxyXG5cdC8vIFx1NEUwQVx1NEYyMFx1NTZGRVx1NzI0N1xyXG5cdGFzeW5jIHVwbG9hZEltYWdlc0FuZFJlcGxhY2VQYXRocyhtYXJrZG93bkNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XHJcblx0XHQvLyBcdTRGN0ZcdTc1MjhcdTY1QjBcdTc2ODRcdTZCNjNcdTUyMTlcdTg4NjhcdThGQkVcdTVGMEZcdTUzMzlcdTkxNERcdTY3MkNcdTU3MzBcdTU2RkVcdTcyNDdcdTU3MzBcdTU3NDBcclxuXHRcdGNvbnN0IGltYWdlUmVnZXggPSAvIVxcWy4qP1xcXVxcKCg/IWh0dHApKC4qPylcXCkvZztcclxuXHJcblx0XHQvLyBcdTRGRERcdTVCNThcdTY1QjBcdTc2ODQgbWFya2Rvd24gXHU1MTg1XHU1QkI5XHJcblx0XHRsZXQgbmV3TWFya2Rvd25Db250ZW50ID0gbWFya2Rvd25Db250ZW50O1xyXG5cclxuXHRcdC8vIFx1NEZERFx1NUI1OFx1NjI0MFx1NjcwOVx1NTMzOVx1OTE0RFx1NTIzMFx1NzY4NFx1NTZGRVx1NzI0N1x1OERFRlx1NUY4NFxyXG5cdFx0Y29uc3QgaW1hZ2VNYXRjaGVzID0gWy4uLm1hcmtkb3duQ29udGVudC5tYXRjaEFsbChpbWFnZVJlZ2V4KV07XHJcblxyXG5cdFx0Zm9yIChjb25zdCBtYXRjaCBvZiBpbWFnZU1hdGNoZXMpIHtcclxuXHRcdFx0Ly8gXHU4M0I3XHU1M0Q2XHU1NkZFXHU3MjQ3XHU3Njg0XHU3NkY4XHU1QkY5XHU4REVGXHU1Rjg0XHJcblx0XHRcdGNvbnN0IGltYWdlUGF0aCA9IG1hdGNoWzFdO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcImltYWdlUGF0aFwiLCBpbWFnZVBhdGgpXHJcblx0XHRcdC8vIFx1NEVDRVx1NzZGOFx1NUJGOVx1OERFRlx1NUY4NFx1ODNCN1x1NTNENiBURmlsZSBcdTVCRjlcdThDNjFcclxuXHRcdFx0Y29uc3QgdGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgodGhpcy5yZW1vdmVQcmVmaXhGcm9tUGF0aChpbWFnZVBhdGgpKTtcclxuXHJcblx0XHRcdGlmICh0ZmlsZSAmJiB0ZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdC8vIFx1NEUwQVx1NEYyMFx1NTZGRVx1NzI0N1x1NUU3Nlx1ODNCN1x1NTNENlx1NjVCMFx1NTczMFx1NTc0MFxyXG5cdFx0XHRcdFx0Y29uc3QgbmV3SW1hZ2VVcmwgPSBhd2FpdCB0aGlzLnBsdWdpbi51cGxvYWRGaWxlKHRmaWxlKTtcclxuXHJcblx0XHRcdFx0XHRpZiAobmV3SW1hZ2VVcmwpIHtcclxuXHRcdFx0XHRcdFx0Ly8gXHU2Nzg0XHU5MDIwXHU1QjhDXHU2NTc0XHU3Njg0XHU2NUU3XHU1NzMwXHU1NzQwXHJcblx0XHRcdFx0XHRcdGNvbnN0IG9sZEltYWdlTWFya2Rvd24gPSBtYXRjaFswXTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIFx1Njc4NFx1OTAyMFx1NjVCMFx1NzY4NCBNYXJrZG93biBcdTU2RkVcdTcyNDdcdThCRURcdTZDRDVcclxuXHRcdFx0XHRcdFx0Y29uc3QgbmV3SW1hZ2VNYXJrZG93biA9IGAhWyR7dGZpbGUuYmFzZW5hbWV9XSguLiR7bmV3SW1hZ2VVcmx9KWA7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBcdTY2RkZcdTYzNjJcdTY1ODdcdTdBRTBcdTRFMkRcdTc2ODRcdTY1RTdcdTU3MzBcdTU3NDBcclxuXHRcdFx0XHRcdFx0bmV3TWFya2Rvd25Db250ZW50ID0gbmV3TWFya2Rvd25Db250ZW50LnJlcGxhY2Uob2xkSW1hZ2VNYXJrZG93biwgbmV3SW1hZ2VNYXJrZG93bik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoYEVycm9yIHVwbG9hZGluZyBmaWxlOiAke3RmaWxlLm5hbWV9YCwgZXJyb3IpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKGBGaWxlIG5vdCBmb3VuZCBmb3IgcGF0aDogJHtpbWFnZVBhdGh9YCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBcdThGRDRcdTU2REVcdTY2RkZcdTYzNjJcdTRFODZcdTU2RkVcdTcyNDdcdTU3MzBcdTU3NDBcdTc2ODRcdTY1QjBcdTc2ODQgbWFya2Rvd24gXHU1MTg1XHU1QkI5XHJcblx0XHRyZXR1cm4gbmV3TWFya2Rvd25Db250ZW50O1xyXG5cdH1cclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsc0JBWU87QUFxQlAsSUFBTSxtQkFBMkM7QUFBQTtBQUFBLEVBRWhELFlBQVk7QUFBQSxFQUNaLFNBQVM7QUFBQTtBQUFBLEVBRVQsVUFBVTtBQUFBO0FBQUEsRUFFVixVQUFVO0FBQUE7QUFBQSxFQUVWLGNBQWM7QUFBQTtBQUFBLEVBRWQs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
